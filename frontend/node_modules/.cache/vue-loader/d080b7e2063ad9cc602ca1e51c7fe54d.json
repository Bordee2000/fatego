{"remainingRequest":"D:\\KMITL\\ปี 2 เทอม 2\\Web Programming\\fatego\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\KMITL\\ปี 2 เทอม 2\\Web Programming\\fatego\\frontend\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\KMITL\\ปี 2 เทอม 2\\Web Programming\\fatego\\frontend\\src\\App.vue","mtime":1620332376522},{"path":"D:\\KMITL\\ปี 2 เทอม 2\\Web Programming\\fatego\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\KMITL\\ปี 2 เทอม 2\\Web Programming\\fatego\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\KMITL\\ปี 2 เทอม 2\\Web Programming\\fatego\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\KMITL\\ปี 2 เทอม 2\\Web Programming\\fatego\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdAL3BsdWdpbnMvYXhpb3MnCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6ICIiCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMub25BdXRoQ2hhbmdlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkF1dGhDaGFuZ2UoKSB7CiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIik7CiAgICAgIGlmICh0b2tlbikgewogICAgICAgIHRoaXMuZ2V0VXNlcigpOwogICAgICB9CiAgICB9LAogICAgZ2V0VXNlcigpIHsKICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKTsKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KCIvdXNlci9tZSIpCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMudXNlciA9IHJlcy5kYXRhOwogICAgICAgIH0pOwogICAgfSwKICAgIGxvZ291dCgpewogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <!-- nav bar -->\n    <nav\n      class=\"navbar px-5\"\n      role=\"navigation\"\n      aria-label=\"main navigation\"\n      style=\"border-bottom: 1px solid black\"\n      v-if=\"$route.fullPath!='/login'\"\n    >\n      <div class=\"navbar-brand\">\n        <router-link to=\"/\" class=\"navbar-item is-size-5 has-text-weight-bold\" :class=\"$route.fullPath=='/'?'has-text-danger':'is-dark'\">ServantList</router-link>\n        <router-link to=\"/calculator\" class=\"navbar-item is-size-5 has-text-weight-bold\" :class=\"$route.fullPath=='/calculator'?'has-text-danger':'is-dark'\">Calculation</router-link>\n        <router-link to=\"/team\" class=\"navbar-item is-size-5 has-text-weight-bold\" :class=\"$route.fullPath=='/team'?'has-text-danger':'is-dark'\" >Team Recommend</router-link>\n      </div>\n      <div class=\"navbar-brand\" style=\"margin: auto 43%;position: absolute;\">\n        <router-link to=\"/\" class=\"is-size-3 has-text-weight-bold\">FateGOBase</router-link>\n      </div>\n\n      <div class=\"navbar-end\">\n          <div v-if=\"user\" class=\"navbar-item has-dropdown is-hoverable\">\n            <a class=\"navbar-link\">\n              <figure class=\"image is-24x24 my-auto\">\n                <img class=\"is-rounded\" src=\"https://bulma.io/images/placeholders/128x128.png\" />\n              </figure>\n              <span class=\"pl-3\">{{ user.username }}</span>\n            </a>\n            <div class=\"navbar-dropdown\">\n              <a class=\"navbar-item\" @click=\"logout()\">Log out</a>\n            </div>\n          </div>\n\n\n        <div v-if=\"!user\" class=\"navbar-item\">\n          <div class=\"buttons\">\n            <router-link to=\"/login\" class=\"button is-primary\">\n              <strong>Log in</strong>\n            </router-link>\n          </div>\n        </div>\n      </div>\n    </nav>\n\n    <router-view :key=\"$route.fullPath\" @auth-change=\"onAuthChange\" :user=\"user\"/>\n  </div>\n</template>\n\n<script>\nimport axios from '@/plugins/axios'\n\nexport default {\n  data() {\n    return {\n      user: \"\"\n    };\n  },\n  mounted() {\n    this.onAuthChange();\n  },\n  methods: {\n    onAuthChange() {\n      const token = localStorage.getItem(\"token\");\n      if (token) {\n        this.getUser();\n      }\n    },\n    getUser() {\n      const token = localStorage.getItem(\"token\");\n      axios\n        .get(\"/user/me\")\n        .then(res => {\n          this.user = res.data;\n        });\n    },\n    logout(){\n      localStorage.removeItem('token');\n      location.reload();\n    }\n  }\n};\n</script>\n\n"]}]}