{"remainingRequest":"C:\\Users\\Bordee\\Desktop\\Work KMITL\\Work 2.2\\web\\WEEK12-EXERCISE-master\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Bordee\\Desktop\\Work KMITL\\Work 2.2\\web\\WEEK12-EXERCISE-master\\frontend\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Bordee\\Desktop\\Work KMITL\\Work 2.2\\web\\WEEK12-EXERCISE-master\\frontend\\src\\views\\Home.vue","mtime":1619156038000},{"path":"C:\\Users\\Bordee\\Desktop\\Work KMITL\\Work 2.2\\web\\WEEK12-EXERCISE-master\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Bordee\\Desktop\\Work KMITL\\Work 2.2\\web\\WEEK12-EXERCISE-master\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Bordee\\Desktop\\Work KMITL\\Work 2.2\\web\\WEEK12-EXERCISE-master\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Bordee\\Desktop\\Work KMITL\\Work 2.2\\web\\WEEK12-EXERCISE-master\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7Ci8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWFyY2g6ICIiLAogICAgICBibG9nczogW10sCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0QmxvZ3MoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEJsb2dzKCkgewogICAgICBheGlvcwogICAgICAgIC5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMCIsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBzZWFyY2g6IHRoaXMuc2VhcmNoLAogICAgICAgICAgfSwKICAgICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgdGhpcy5ibG9ncyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBpbWFnZVBhdGgoZmlsZV9wYXRoKSB7CiAgICAgIGlmIChmaWxlX3BhdGgpIHsKICAgICAgICByZXR1cm4gImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC8iICsgZmlsZV9wYXRoOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiaHR0cHM6Ly9idWxtYS5pby9pbWFnZXMvcGxhY2Vob2xkZXJzLzY0MHgzNjAucG5nIjsKICAgICAgfQogICAgfSwKICAgIHNob3J0Q29udGVudChjb250ZW50KSB7CiAgICAgIGlmIChjb250ZW50Lmxlbmd0aCA+IDIwMCkgewogICAgICAgIHJldHVybiBjb250ZW50LnN1YnN0cmluZygwLCAxOTcpICsgIi4uLiI7CiAgICAgIH0KICAgICAgcmV0dXJuIGNvbnRlbnQ7CiAgICB9LAogICAgYWRkTGlrZShibG9nSWQpIHsKICAgICAgYXhpb3MKICAgICAgICAucHV0KGBodHRwOi8vbG9jYWxob3N0OjMwMDAvYmxvZ3MvYWRkbGlrZS8ke2Jsb2dJZH1gKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgbGV0IHNlbGVjdGVkQmxvZyA9IHRoaXMuYmxvZ3MuZmlsdGVyKChlKSA9PiBlLmlkID09PSBibG9nSWQpWzBdOwogICAgICAgICAgc2VsZWN0ZWRCbG9nLmxpa2UgPSByZXNwb25zZS5kYXRhLmxpa2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container is-widescreen\">\n    <section class=\"hero\">\n      <div class=\"hero-body\">\n        <p class=\"title\">My Stories</p>\n        <div class=\"columns\">\n          <div class=\"column is-half\">\n            <input class=\"input\" type=\"text\" v-model=\"search\" placeholder=\"Search blog(s)\" />\n          </div>\n          <div class=\"column is-half\">\n            <button @click=\"getBlogs\" class=\"button\">Search</button>\n          </div>\n        </div>\n      </div>\n    </section>\n    <section class=\"section\" id=\"app\">\n      <div class=\"content\">\n        <div class=\"columns is-multiline\">\n          <div class=\"column is-3\" v-for=\"blog in blogs\" :key=\"blog.id\">\n            <div class=\"card\">\n              <div class=\"card-image pt-5\">\n                <figure class=\"image\">\n                  <img\n                    style=\"height: 120px\"\n                    :src=\"imagePath(blog.file_path)\"\n                    alt=\"Placeholder image\"\n                  />\n                </figure>\n              </div>\n              <div class=\"card-content\">\n                <div class=\"title\">{{ blog.title }}</div>\n                <div class=\"content\" style=\"height: 200px;\">{{ shortContent(blog.content) }}</div>\n              </div>\n              <footer class=\"card-footer\">\n                <router-link class=\"card-footer-item\" :to=\"`/blogs/detail/${blog.id}`\">Read more...</router-link>\n                <a class=\"card-footer-item\" @click=\"addLike(blog.id)\">\n                  <span class=\"icon-text\">\n                    <span class=\"icon\">\n                      <i class=\"far fa-heart\"></i>\n                    </span>\n                    <span>Like ({{blog.like}})</span>\n                  </span>\n                </a>\n                <a\n                  class=\"card-footer-item\"\n                  @click=\"$router.push({name:'update-blog',params:{id:blog.id}})\"\n                >\n                  <span class=\"icon-text\">\n                    <span>Edit</span>\n                  </span>\n                </a>\n              </footer>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n// @ is an alias to /src\nexport default {\n  name: \"Home\",\n  data() {\n    return {\n      search: \"\",\n      blogs: [],\n    };\n  },\n  mounted() {\n    this.getBlogs();\n  },\n  methods: {\n    getBlogs() {\n      axios\n        .get(\"http://localhost:3000\", {\n          params: {\n            search: this.search,\n          },\n        })\n        .then((response) => {\n          this.blogs = response.data;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    imagePath(file_path) {\n      if (file_path) {\n        return \"http://localhost:3000/\" + file_path;\n      } else {\n        return \"https://bulma.io/images/placeholders/640x360.png\";\n      }\n    },\n    shortContent(content) {\n      if (content.length > 200) {\n        return content.substring(0, 197) + \"...\";\n      }\n      return content;\n    },\n    addLike(blogId) {\n      axios\n        .put(`http://localhost:3000/blogs/addlike/${blogId}`)\n        .then((response) => {\n          let selectedBlog = this.blogs.filter((e) => e.id === blogId)[0];\n          selectedBlog.like = response.data.like;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n  },\n};\n</script>\n"]}]}